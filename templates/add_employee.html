{% extends "base.html" %}

{% block title %}Add Employee{% endblock %}

{% block header %}Add Employee{% endblock %}

{% block content %}
<div style="max-width: 600px; margin: 0 auto;">
    <h2>Add New Employee</h2>
    <form method="POST">
        {{ form.hidden_tag() }}
        
        <div style="margin-bottom: 15px;">
            <label for="full_name" style="display: block; margin-bottom: 5px;">Full Name</label>
            {{ form.full_name(class="form-control", style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;") }}
            {% if form.full_name.errors %}
                <div style="color: red; font-size: 0.9rem; margin-top: 5px;">
                    {% for error in form.full_name.errors %}
                        {{ error }}
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        
        <div style="margin-bottom: 15px;">
            <label for="email" style="display: block; margin-bottom: 5px;">Email</label>
            {{ form.email(class="form-control", style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;", type="email") }}
            {% if form.email.errors %}
                <div style="color: red; font-size: 0.9rem; margin-top: 5px;">
                    {% for error in form.email.errors %}
                        {{ error }}
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        
        <div style="margin-bottom: 15px;">
            <label for="nationality" style="display: block; margin-bottom: 5px;">Nationality</label>
            {{ form.nationality(class="form-control", style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;") }}
            {% if form.nationality.errors %}
                <div style="color: red; font-size: 0.9rem; margin-top: 5px;">
                    {% for error in form.nationality.errors %}
                        {{ error }}
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        
        <div style="margin-bottom: 15px;">
            <label for="employee_id" style="display: block; margin-bottom: 5px;">Employee ID</label>
            {{ form.employee_id(class="form-control", style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;") }}
            {% if form.employee_id.errors %}
                <div style="color: red; font-size: 0.9rem; margin-top: 5px;">
                    {% for error in form.employee_id.errors %}
                        {{ error }}
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        
        <div style="margin-bottom: 15px;">
            <label for="user_type" style="display: block; margin-bottom: 5px;">User Type</label>
            {{ form.user_type(class="form-control", style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;") }}
            {% if form.user_type.errors %}
                <div style="color: red; font-size: 0.9rem; margin-top: 5px;">
                    {% for error in form.user_type.errors %}
                        {{ error }}
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <!-- NEW FIELDS -->
        <div style="margin-bottom: 15px;">
            <label for="date_joined" style="display: block; margin-bottom: 5px;">Date Joined</label>
            {{ form.date_joined(class="form-control", style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;", type="date") }}
            {% if form.date_joined.errors %}
                <div style="color: red; font-size: 0.9rem; margin-top: 5px;">
                    {% for error in form.date_joined.errors %}
                        {{ error }}
                    {% endfor %}
                </div>
            {% endif %}
            <small style="color: #666; font-size: 0.8rem;">Used to calculate annual leave entitlement</small>
        </div>
        
        <div style="margin-bottom: 15px;">
            <label for="basic_salary" style="display: block; margin-bottom: 5px;">Basic Salary</label>
            {{ form.basic_salary(class="form-control", style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;", type="number", step="0.01", min="0") }}
            {% if form.basic_salary.errors %}
                <div style="color: red; font-size: 0.9rem; margin-top: 5px;">
                    {% for error in form.basic_salary.errors %}
                        {{ error }}
                    {% endfor %}
                </div>
            {% endif %}
            <small style="color: #666; font-size: 0.8rem;">Used for unpaid leave salary calculations</small>
        </div>
        
        <div style="text-align: center;">
            {{ form.submit(class="btn", style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 12px 24px; border: none; border-radius: 6px; font-weight: 600; cursor: pointer; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); height: 44px;") }}
            <a href="{{ url_for('manage_employees') }}" style="background: linear-gradient(135deg, #6c757d 0%, #495057 100%); color: white; padding: 12px 24px; border: none; border-radius: 6px; text-decoration: none; display: inline-block; margin-left: 10px; font-weight: 600; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); height: 44px; line-height: 20px;">Cancel</a>
        </div>
    </form>
</div>

<style>
    .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    }
    
    a[style*="background: linear-gradient"]:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        text-decoration: none;
    }

    .form-control:focus {
        border-color: #4361ee;
        outline: none;
        box-shadow: 0 0 0 2px rgba(67, 97, 238, 0.2);
    }

    small {
        display: block;
        margin-top: 4px;
    }
</style>
{% endblock %}